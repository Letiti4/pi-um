"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5082],{92746:function(e,t,a){a.d(t,{Z:function(){return b}});var i=a(85893),o=a(36465),n=a.n(o),s=a(72627),c=a(67294),r=a(77185),l=a(30128);let x=new String(".app-install-bar.jsx-91dacf7a18399655{position:fixed;bottom:0;left:0;right:0;z-index:3000;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.content.jsx-91dacf7a18399655{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:20px;background-color:white;color:rgba(var(--accentColorDark),1);border:1px solid rgba(var(--border1),1);-webkit-transition:-webkit-transform.3s ease-out;-moz-transition:-moz-transform.3s ease-out;-o-transition:-o-transform.3s ease-out;transition:-webkit-transform.3s ease-out;transition:-moz-transform.3s ease-out;transition:-o-transform.3s ease-out;transition:transform.3s ease-out;margin:15px;margin-bottom:max(15px,-webkit-calc(15px + env(safe-area-inset-bottom)));margin-bottom:max(15px,-moz-calc(15px + env(safe-area-inset-bottom)));margin-bottom:max(15px,calc(15px + env(safe-area-inset-bottom)));-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}.title.jsx-91dacf7a18399655{font-size:18px;margin-bottom:2px;color:rgba(var(--accentColorDark),1)}.text.jsx-91dacf7a18399655{margin-bottom:20px}.buttons.jsx-91dacf7a18399655{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.button.jsx-91dacf7a18399655{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:white;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;padding:5px 15px;text-decoration:none;background-color:transparent;border:0;font-size:14px;cursor:pointer}.button.outline.jsx-91dacf7a18399655{border:1px solid rgba(var(--accentColorDark),1);opacity:.75;color:rgba(var(--accentColorDark),1)}.button.filled.jsx-91dacf7a18399655{background-color:rgba(var(--accentColor),1)}");function b(){let e=(0,l.aF)(),[t,a,o]=function(e,t){let[a,i]=(0,c.useState)(!1),[o,n]=(0,c.useState)(t),s=(0,c.useCallback)(()=>{let a=window.sessionStorage.getItem(e);return a?function(e){try{return"undefined"===e?void 0:JSON.parse(null!=e?e:"")}catch(t){console.log("parsing error on",{value:e});return}}(a):t},[e]),r=(0,c.useCallback)(t=>{let a=t instanceof Function?t(o):t;window.sessionStorage.setItem(e,JSON.stringify(a)),window.dispatchEvent(new Event("session-storage")),n(a)},[]),l=(0,c.useCallback)(t=>{null!=t&&t.key&&t.key!==e||n(s())},[e,s]);return(0,c.useEffect)(()=>{n(s()),i(!0)},[e]),(0,c.useEffect)(()=>(window.addEventListener("storage",l),window.addEventListener("session-storage",l),()=>{window.removeEventListener("storage",l),window.removeEventListener("session-storage",l)}),[e]),[o,r,a]}("hideAppInstallBar",!1),b=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||/Safari/.test(navigator.userAgent)&&"ontouchstart"in document,d=(0,c.useCallback)(()=>{a(!0)},[]);return"on"===e.features.appBar&&o&&!t&&b?(0,i.jsxs)(s.Z,{children:[(0,i.jsx)("div",{className:"jsx-".concat(x.__hash)+" app-install-bar",children:(0,i.jsxs)("div",{className:"jsx-".concat(x.__hash)+" content",children:[(0,i.jsx)("div",{className:"jsx-".concat(x.__hash)+" title",children:r.default.translate("appinstallbar.title")}),(0,i.jsx)("div",{className:"jsx-".concat(x.__hash)+" text",children:r.default.translate("appinstallbar.text")}),(0,i.jsxs)("div",{className:"jsx-".concat(x.__hash)+" buttons",children:[(0,i.jsx)("button",{onClick:d,className:"jsx-".concat(x.__hash)+" button outline",children:r.default.translate("appinstallbar.btn-no")}),(0,i.jsx)("a",{href:"".concat("https://click.myalbum.com","/app/?url=").concat(window.location.href),className:"jsx-".concat(x.__hash)+" button filled",children:r.default.translate("appinstallbar.btn-yes")})]})]})}),(0,i.jsx)(n(),{id:x.__hash,children:x})]}):null}x.__hash="91dacf7a18399655"},24363:function(e,t,a){var i=a(85893),o=a(36465),n=a.n(o),s=a(29620);t.Z=function(e){return(0,i.jsxs)("div",{className:n().dynamic([["89c02347c62a10bf",["https://static.myalbum.io"]]])+" error-page",children:[(0,i.jsxs)(s.Z,{children:[(0,i.jsx)("div",{className:n().dynamic([["89c02347c62a10bf",["https://static.myalbum.io"]]]),children:(0,i.jsx)(s.Z.Logo,{})},"center"),(0,i.jsx)("div",{className:n().dynamic([["89c02347c62a10bf",["https://static.myalbum.io"]]]),children:(0,i.jsx)(s.Z.Logo,{})},"mobile")]}),(0,i.jsxs)("div",{className:n().dynamic([["89c02347c62a10bf",["https://static.myalbum.io"]]])+" content",children:[(0,i.jsx)("h1",{className:n().dynamic([["89c02347c62a10bf",["https://static.myalbum.io"]]]),children:e.title}),e.description&&(0,i.jsx)("p",{className:n().dynamic([["89c02347c62a10bf",["https://static.myalbum.io"]]]),children:e.description})]}),(0,i.jsx)(n(),{id:"89c02347c62a10bf",dynamic:["https://static.myalbum.io"],children:'.error-page{min-height:inherit;height:inherit;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.error-page>div{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.error-page h1{font-family:"Source Sans Pro",sans-serif;font-weight:300}.error-page nav.ui-menu-bar{-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.error-page .content{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background:transparent url('.concat("https://static.myalbum.io","/_static/error.jpg)no-repeat center right;-webkit-background-size:50vw auto;-moz-background-size:50vw auto;-o-background-size:50vw auto;background-size:50vw auto;padding-left:30px;padding-right:30px}@media(min-width:1080px){.error-page .content{-webkit-background-size:auto;-moz-background-size:auto;-o-background-size:auto;background-size:auto}}")})]})}},28529:function(e,t,a){a.d(t,{Z:function(){return w}});var i=a(85893),o=a(36465),n=a.n(o),s=a(67294),c=a(67814),r=a(41333),l=a(29620),x=a(39214);let b=new String("body{background-color:rgba(250,245,255,1)}.content.jsx-94cbaeb44c553c5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;-webkit-box-flex:1!important;-webkit-flex-grow:1!important;-moz-box-flex:1!important;-ms-flex-positive:1!important;flex-grow:1!important;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;color:rgba(var(--accentColorDark),1);max-width:650px;margin:0 auto}.icon.jsx-94cbaeb44c553c5{margin-bottom:20px;color:rgba(var(--accentColor),1)}h1.jsx-94cbaeb44c553c5{font-size:40px;font-weight:400;line-height:120%;margin:0px;text-align:center}h2.jsx-94cbaeb44c553c5{margin:0px;margin-top:5px;font-size:21px;font-weight:400;text-align:center;line-height:120%}.labels.jsx-94cbaeb44c553c5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;color:rgba(var(--accentColor),1);margin-top:30px;font-size:18px}.label.jsx-94cbaeb44c553c5 svg{margin-right:5px}.label.jsx-94cbaeb44c553c5+.label.jsx-94cbaeb44c553c5{margin-left:30px}.description.jsx-94cbaeb44c553c5{color:rgba(var(--accentColor),1);margin-top:10px;max-width:275px;text-align:center;font-size:16px}.green.jsx-94cbaeb44c553c5 .description.jsx-94cbaeb44c553c5{color:rgba(var(--greenColor),1)}.green.jsx-94cbaeb44c553c5 .labels.jsx-94cbaeb44c553c5{color:rgba(var(--greenColor),1)}.green.jsx-94cbaeb44c553c5{color:rgba(var(--greenColorDark),1)}");b.__hash="94cbaeb44c553c5";var d=a(30128),m=a(68896),h=a(11163),u=a(77185),f=a(29323),p=a(27655),g=a(2962),j=a(92746);function k(e){var t;let{labels:a,slug:o,invite:f,access:k}=e,{subject:w}=k,[v,y]=o.split("-"),_=(0,d.aF)(),z=(0,h.useRouter)(),[N,C]=(0,s.useState)(!1),S=null===(t=k.me)||void 0===t?void 0:t.canAccess,Z=S?"can-access":"no-access",E=u.default.translate("".concat(Z,".").concat(v,".description")),L=u.default.translate("".concat(Z,".button")),P=u.default.translate("no-access.".concat(v,".logintext")),A=u.default.translate("no-access.".concat(v,".registertext")),G=(0,s.useCallback)(()=>{(0,x.H)(_,{loginInfoText:P,registerInfoText:A}).then(()=>{(0,m.G)(_,o,f).then(e=>{e.me.hasAccess||I()})}).catch(()=>{})},[]),I=(0,s.useCallback)(()=>{if(!_.isLoggedIn)return;let[e]=_.FetchJSON("".concat("https://myalbum.com/api/v2","/access/").concat(o,"/join"),{data:{inviteKey:f},method:"POST"});e.then(e=>{if(e.data.hasAccess){let e={...z.query};delete e.invite,z.replace({pathname:z.pathname,query:e})}else e.data.requestSent&&C(!0)})},[o,_,f]);(0,s.useEffect)(()=>{if(!N)return;let e=!0,t=null;return!function a(){e&&(0,m.G)(_,o).then(i=>{i.me.hasAccess?z.replace(z.asPath):e&&(t=setTimeout(()=>{a()},1e3))})}(),()=>{e=!1,t&&clearTimeout(t)}},[N]);let B=(0,s.useMemo)(()=>{var e,t;return N?(0,i.jsxs)("div",{className:"jsx-".concat(b.__hash)+" content",children:[(0,i.jsx)("div",{className:"jsx-".concat(b.__hash)+" icon",children:(0,i.jsx)(c.G,{icon:p.sl,size:"4x"})}),(0,i.jsx)("h1",{className:"jsx-".concat(b.__hash),children:u.default.translate("no-access.requestsent.title")}),(0,i.jsx)("h2",{className:"jsx-".concat(b.__hash),children:u.default.translate("no-access.requestsent.text",{title:w.title})}),(0,i.jsx)(n(),{id:b.__hash,children:b})]}):S?(0,i.jsxs)("div",{className:"jsx-".concat(b.__hash)+" content green",children:[(0,i.jsx)("h1",{className:"jsx-".concat(b.__hash),children:w.title}),(null===(e=w.subtitle)||void 0===e?void 0:e.length)>0&&(0,i.jsx)("h2",{className:"jsx-".concat(b.__hash),children:w.subtitle}),(0,i.jsx)("div",{className:"jsx-".concat(b.__hash)+" labels",children:a.map(e=>(0,i.jsxs)("div",{className:"jsx-".concat(b.__hash)+" label",children:[(0,i.jsx)(c.G,{icon:e.icon}),e.label]},e.label))}),(0,i.jsx)("div",{style:{height:15},className:"jsx-".concat(b.__hash)}),(0,i.jsx)(r.Z,{className:"green large",style:{width:275},onClick:G,children:L}),(0,i.jsx)("div",{className:"jsx-".concat(b.__hash)+" description",children:E}),(0,i.jsx)(n(),{id:b.__hash,children:b})]}):(0,i.jsxs)("div",{className:"jsx-".concat(b.__hash)+" content",children:[(0,i.jsx)("h1",{className:"jsx-".concat(b.__hash),children:w.title}),(null===(t=w.subtitle)||void 0===t?void 0:t.length)>0&&(0,i.jsx)("h2",{className:"jsx-".concat(b.__hash),children:w.subtitle}),(0,i.jsx)("div",{className:"jsx-".concat(b.__hash)+" labels",children:a.map(e=>(0,i.jsxs)("div",{className:"jsx-".concat(b.__hash)+" label",children:[(0,i.jsx)(c.G,{icon:e.icon}),e.label]},e.label))}),(0,i.jsx)("div",{style:{height:60},className:"jsx-".concat(b.__hash)}),(0,i.jsx)(r.Z,{className:"accent large",style:{width:275},onClick:G,children:L}),(0,i.jsx)("div",{className:"jsx-".concat(b.__hash)+" description",children:E}),(0,i.jsx)(n(),{id:b.__hash,children:b})]})},[N,S]),D=(0,s.useMemo)(()=>{var e,t;if(!(null===(e=k.subject)||void 0===e?void 0:null===(t=e.images)||void 0===t?void 0:t.sizes))return;let a=k.subject.images.sizes.reduce((e,t)=>t.width>e.width?t:e);return a},[k]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.PB,{title:e.access.subject.title,description:e.access.subject.subtitle||" ",openGraph:{title:e.access.subject.title,description:e.access.subject.subtitle,url:"".concat("https://myalbum.com","/").concat(v,"/").concat(y,"/"),images:[{url:null==D?void 0:D.url,width:null==D?void 0:D.width,height:null==D?void 0:D.height}]}}),(0,i.jsxs)(l.Z,{visible:!0,children:[(0,i.jsx)("div",{children:(0,i.jsx)(l.Z.Back,{})},"left"),(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Z.Back,{},"shortback"),(0,i.jsx)(l.Z.Cart,{})]},"mobile"),(0,i.jsx)("div",{children:(0,i.jsx)(l.Z.Logo,{})},"center"),(0,i.jsx)("div",{children:(0,i.jsx)(l.Z.Cart,{})},"right")]},"menubar"),(0,i.jsx)("div",{style:{height:65}}),(0,i.jsx)(j.Z,{}),B]})}k.defaultProps={labels:[]};var w=(0,f.observer)(k)},72627:function(e,t,a){var i=a(85893),o=a(5152),n=a.n(o),s=a(67294);let c=e=>(0,i.jsx)(s.Fragment,{children:e.children});t.Z=n()(()=>Promise.resolve(c),{ssr:!1})},63163:function(e,t,a){a.r(t),a.d(t,{__N_SSG:function(){return c}});var i=a(85893),o=a(24363),n=a(71217),s=a(77185),c=!0;t.default=function(){return(0,i.jsx)(n.Qj,{children:()=>(0,i.jsx)(o.Z,{title:s.default.translate("404.title")})})}},68896:function(e,t,a){a.d(t,{G:function(){return i}});async function i(e,t,a){return"folder-root"===t?e.isLoggedIn?Promise.resolve({me:{role:"owner",hasAccess:!0},subject:{accessLevel:"private",hasSetAccessLevel:!0}}):Promise.resolve({me:{hasAccess:!1},subject:{accessLevel:"private"}}):new Promise((i,o)=>{let[n]=e.FetchJSON("".concat("https://myalbum.com/api/v2","/access/").concat(t,"/accessData").concat(a?"?inviteKey=".concat(a):""));n.then(e=>{let{data:t}=e;i(t)}).catch(e=>{o(e)})})}}}]);
//# sourceMappingURL=5082-21bdf6ab1c6b18ac.js.map